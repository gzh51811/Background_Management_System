"use strict";function _asyncToGenerator(t){return function(){var s=t.apply(this,arguments);return new Promise(function(i,a){return function e(t,n){try{var r=s[t](n),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});i(o)}("next")})}}function time(t){function e(t){return t<10?"0"+t:t}var n=void 0;return{year:(n=t?new Date(t):new Date).getFullYear(),month:e(n.getMonth()+1),date:n.getDate(),day:e(n.getDay()),hours:e(n.getHours()),minutes:e(n.getMinutes()),seconds:e(n.getSeconds())}}function getRandomNum(t,e){return parseInt(Math.random()*(e-t+1)+t)}function getRandomColor(){return"rgb("+getRandomNum(0,255)+","+getRandomNum(0,255)+","+getRandomNum(0,255)+")"}var Element={getElementNodes:function(t){for(var e=[],n=0;n<t.length;n++)1==t[n].nodeType&&e.push(t[n]);return e},getElementsChild:function(t){var e=t.childNodes;return Element.getElementNodes(e)},getNextElement:function(t){var e=t.nextSibling;return 1!=e.nodeType&&(e=e.nextSibling),e}};function getStyle(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle?t.currentStyle[e]:t.style[e]}function bind(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}var Cookie={setCookie:function(t,e,n,r){var o=t+"="+e;n&&(o+="; expires="+n.toUTCString()),r&&(o+="; path="+r),document.cookie=o},getCookie:function(t){var e=document.cookie;if(""==e)return"";for(var n=e.split("; "),r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]==t)return o[1]}return""},delCookie:function(t,e){var n=new Date;n.setDate(n.getDate()-1),Cookie.setCookie(t,"",n,e)}};function animation(i,t,e,a){var s=0;for(var n in t){s++,r(n,t[n])}function r(r,o){o="opacity"==r?100*o:o,clearInterval(i[r+"Timer"]),i[r+"Timer"]=setInterval(function(){var t=window.getComputedStyle(i)[r],e=t.match(/[a-z]+$/);e=e?e[0]:"",t=parseFloat(t),t="opacity"==r?100*t:parseInt(t);var n=(o-t)/10;0<n?n=Math.ceil(n):n<0&&(n=Math.floor(n)),t+=n,i.style[r]="opacity"==r?t/100:t+e,t==o&&(clearInterval(i[r+"Timer"]),0==--s&&a&&"function"==typeof a&&a())},e)}}function linearAnimate(n,r,o,i,t){clearInterval(r.timer);n=n;r.timer=setInterval(function(){var t=window.getComputedStyle(r)[o],e=t.match(/[a-z]+$/);e=e?e[0]:"",t=parseFloat(t),t+=n,r.style[o]=t+e,i<=t&&(t=i,clearInterval(r.timer))},t)}function userAjax(n){return new Promise(function(e,t){$.get("/api/userList/find",n,function(t){t.code&&e(t)},"json")})}function verifyToken(n){return new Promise(function(e,t){$.get("/api/tokenverify",{token:n},function(t){e(t)},"json")})}function quit(){$(".quit").click(function(){localStorage.token?localStorage.removeItem("token"):sessionStorage.removeItem("token"),location.href="../login.html"})}function userShow(){var e=this;console.log(host,port),user1=$(".user-1"),user2=$(".user-2");var n=localStorage.token||sessionStorage.token||"";n?_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,verifyToken(n);case 2:verifyUser(t.sent);case 4:case"end":return t.stop()}},t,e)}))():location.href="../login.html"}var _host$port={host:"47.107.113.128",port:"1811"},host=_host$port.host,port=_host$port.port;function verifyUser(t){if(200==t.status){"admin"==t.ress[0].jurisdiction?(user1.show(),user1.eq(0).attr("href","http://"+host+":"+port+"/html/userList.html"),user1.eq(1).attr("href","http://"+host+":"+port+"/html/addUser.html")):(user2.show(),user2.attr("href","http://"+host+":"+port+"/html/userMessage.html"));var e=t.ress[0].photoUrl,n=t.ress[0].nickname;$("._username").text(n),$("._imge").attr("src",e),quit()}else 100==t.status&&(location.href="http://"+host+":"+port+"/login.html")}